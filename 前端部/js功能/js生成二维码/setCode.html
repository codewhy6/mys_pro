<!--
 * @Description:生成二维码
 * @fileName: 
 * @Author: Cheng Linmao
 * @Date: 2020-05-06 13:24
 * @LastEditors: Li Suwan
 * @LastEditTime: 2020-05-11 11:47:49
 *用法:在input框中输入网址即可生成二维码
 -->

<!DOCTYPE html>
<html lang="zh-CN">

<head>
   <meta charset="utf-8">
   <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
   <meta name="author" content="Tencent-CP" />
   <meta name="format-detection" content="telephone=no" />
   <meta name="viewport"
      content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" />
   <meta name="apple-mobile-web-app-capable" content="yes" />
   <meta name="apple-mobile-web-app-status-bar-style" content="black" />
   <meta name="Description" content="" />
   <meta name="Keywords" content="" />
   <title>生成二维码</title>
</head>
<style>
   #text {
      display: block;
      /*可设置为显示,可以自己手动生成*/
   }

   #qrcode {
      width: 160px;
      height: 160px;
      margin-top: 15px;
   }
</style>

<body>
   <input id="text" type="text" value="http://www.runoob.com" /><br />
   <div id="qrcode"></div>
   <script type="text/javascript" src="js/jquery-1.9.1.min.js"></script>
   <script type="text/javascript" src="http://static.runoob.com/assets/qrcode/qrcode.min.js"></script>
   <script type="text/javascript">
      /**
       * @Description: js生成二维码
       * @Author: Cheng Linmao
       * @Date: 2020-05-11 09:26:14
       */
      var qrcode = new QRCode("qrcode");//实例化生成二维码 

      function makeCode() {
         var elText = document.getElementById("text");//获取

         if (!elText.value) {//input为空时执行
            alert("Input a text");
            elText.focus();
            return;
         }

         qrcode.makeCode(elText.value);//执行生成二维码,将网址生成二维码
      }

      makeCode();

      $("#text").on("blur", function () {//手动输入网址时,光标离开时执行
         makeCode();
      }).on("keydown", function (e) {//手动输入网址时,点击enter键时执行
         if (e.keyCode == 13) {
            makeCode();
         }
      });

   </script>
</body>

</html>